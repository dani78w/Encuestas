{"ast":null,"code":"/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Keeps a ref count of all hidden elements. Added to when hiding an element, and\n// subtracted from when showing it again. When it reaches zero, aria-hidden is removed.\nlet $5e3802645cc19319$var$refCountMap = new WeakMap();\nlet $5e3802645cc19319$var$observerStack = [];\nfunction $5e3802645cc19319$export$1c3ebcada18427bf(targets, root = document.body) {\n  let visibleNodes = new Set(targets);\n  let hiddenNodes = new Set();\n  let walk = root => {\n    // Keep live announcer and top layer elements (e.g. toasts) visible.\n    for (let element of root.querySelectorAll(\"[data-live-announcer], [data-react-aria-top-layer]\")) visibleNodes.add(element);\n    let acceptNode = node => {\n      // Skip this node and its children if it is one of the target nodes, or a live announcer.\n      // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n      // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n      // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n      if (visibleNodes.has(node) || hiddenNodes.has(node.parentElement) && node.parentElement.getAttribute(\"role\") !== \"row\") return NodeFilter.FILTER_REJECT;\n      // Skip this node but continue to children if one of the targets is inside the node.\n      for (let target of visibleNodes) {\n        if (node.contains(target)) return NodeFilter.FILTER_SKIP;\n      }\n      return NodeFilter.FILTER_ACCEPT;\n    };\n    let walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n      acceptNode: acceptNode\n    });\n    // TreeWalker does not include the root.\n    let acceptRoot = acceptNode(root);\n    if (acceptRoot === NodeFilter.FILTER_ACCEPT) hide(root);\n    if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n      let node = walker.nextNode();\n      while (node != null) {\n        hide(node);\n        node = walker.nextNode();\n      }\n    }\n  };\n  let hide = node => {\n    var _refCountMap_get;\n    let refCount = (_refCountMap_get = $5e3802645cc19319$var$refCountMap.get(node)) !== null && _refCountMap_get !== void 0 ? _refCountMap_get : 0;\n    // If already aria-hidden, and the ref count is zero, then this element\n    // was already hidden and there's nothing for us to do.\n    if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) return;\n    if (refCount === 0) node.setAttribute(\"aria-hidden\", \"true\");\n    hiddenNodes.add(node);\n    $5e3802645cc19319$var$refCountMap.set(node, refCount + 1);\n  };\n  // If there is already a MutationObserver listening from a previous call,\n  // disconnect it so the new on takes over.\n  if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].disconnect();\n  walk(root);\n  let observer = new MutationObserver(changes => {\n    for (let change of changes) {\n      if (change.type !== \"childList\" || change.addedNodes.length === 0) continue;\n      // If the parent element of the added nodes is not within one of the targets,\n      // and not already inside a hidden node, hide all of the new children.\n      if (![...visibleNodes, ...hiddenNodes].some(node => node.contains(change.target))) {\n        for (let node of change.removedNodes) if (node instanceof Element) {\n          visibleNodes.delete(node);\n          hiddenNodes.delete(node);\n        }\n        for (let node of change.addedNodes) {\n          if ((node instanceof HTMLElement || node instanceof SVGElement) && (node.dataset.liveAnnouncer === \"true\" || node.dataset.reactAriaTopLayer === \"true\")) visibleNodes.add(node);else if (node instanceof Element) walk(node);\n        }\n      }\n    }\n  });\n  observer.observe(root, {\n    childList: true,\n    subtree: true\n  });\n  let observerWrapper = {\n    observe() {\n      observer.observe(root, {\n        childList: true,\n        subtree: true\n      });\n    },\n    disconnect() {\n      observer.disconnect();\n    }\n  };\n  $5e3802645cc19319$var$observerStack.push(observerWrapper);\n  return () => {\n    observer.disconnect();\n    for (let node of hiddenNodes) {\n      let count = $5e3802645cc19319$var$refCountMap.get(node);\n      if (count === 1) {\n        node.removeAttribute(\"aria-hidden\");\n        $5e3802645cc19319$var$refCountMap.delete(node);\n      } else $5e3802645cc19319$var$refCountMap.set(node, count - 1);\n    }\n    // Remove this observer from the stack, and start the previous one.\n    if (observerWrapper === $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1]) {\n      $5e3802645cc19319$var$observerStack.pop();\n      if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].observe();\n    } else $5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(observerWrapper), 1);\n  };\n}\nexport { $5e3802645cc19319$export$1c3ebcada18427bf as ariaHideOutside };","map":{"version":3,"names":["$5e3802645cc19319$var$refCountMap","WeakMap","$5e3802645cc19319$var$observerStack","$5e3802645cc19319$export$1c3ebcada18427bf","targets","root","document","body","visibleNodes","Set","hiddenNodes","walk","element","querySelectorAll","add","acceptNode","node","has","parentElement","getAttribute","NodeFilter","FILTER_REJECT","target","contains","FILTER_SKIP","FILTER_ACCEPT","walker","createTreeWalker","SHOW_ELEMENT","acceptRoot","hide","nextNode","_refCountMap_get","refCount","get","setAttribute","set","length","disconnect","observer","MutationObserver","changes","change","type","addedNodes","some","removedNodes","Element","delete","HTMLElement","SVGElement","dataset","liveAnnouncer","reactAriaTopLayer","observe","childList","subtree","observerWrapper","push","count","removeAttribute","pop","splice","indexOf","ariaHideOutside"],"sources":["/Users/daniel/Documents/Webs/Encuestas/rama-front/Encuestas/node_modules/@react-aria/overlays/dist/ariaHideOutside.mjs"],"sourcesContent":["/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ // Keeps a ref count of all hidden elements. Added to when hiding an element, and\n// subtracted from when showing it again. When it reaches zero, aria-hidden is removed.\nlet $5e3802645cc19319$var$refCountMap = new WeakMap();\nlet $5e3802645cc19319$var$observerStack = [];\nfunction $5e3802645cc19319$export$1c3ebcada18427bf(targets, root = document.body) {\n    let visibleNodes = new Set(targets);\n    let hiddenNodes = new Set();\n    let walk = (root)=>{\n        // Keep live announcer and top layer elements (e.g. toasts) visible.\n        for (let element of root.querySelectorAll(\"[data-live-announcer], [data-react-aria-top-layer]\"))visibleNodes.add(element);\n        let acceptNode = (node)=>{\n            // Skip this node and its children if it is one of the target nodes, or a live announcer.\n            // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n            // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n            // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n            if (visibleNodes.has(node) || hiddenNodes.has(node.parentElement) && node.parentElement.getAttribute(\"role\") !== \"row\") return NodeFilter.FILTER_REJECT;\n            // Skip this node but continue to children if one of the targets is inside the node.\n            for (let target of visibleNodes){\n                if (node.contains(target)) return NodeFilter.FILTER_SKIP;\n            }\n            return NodeFilter.FILTER_ACCEPT;\n        };\n        let walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n            acceptNode: acceptNode\n        });\n        // TreeWalker does not include the root.\n        let acceptRoot = acceptNode(root);\n        if (acceptRoot === NodeFilter.FILTER_ACCEPT) hide(root);\n        if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n            let node = walker.nextNode();\n            while(node != null){\n                hide(node);\n                node = walker.nextNode();\n            }\n        }\n    };\n    let hide = (node)=>{\n        var _refCountMap_get;\n        let refCount = (_refCountMap_get = $5e3802645cc19319$var$refCountMap.get(node)) !== null && _refCountMap_get !== void 0 ? _refCountMap_get : 0;\n        // If already aria-hidden, and the ref count is zero, then this element\n        // was already hidden and there's nothing for us to do.\n        if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) return;\n        if (refCount === 0) node.setAttribute(\"aria-hidden\", \"true\");\n        hiddenNodes.add(node);\n        $5e3802645cc19319$var$refCountMap.set(node, refCount + 1);\n    };\n    // If there is already a MutationObserver listening from a previous call,\n    // disconnect it so the new on takes over.\n    if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].disconnect();\n    walk(root);\n    let observer = new MutationObserver((changes)=>{\n        for (let change of changes){\n            if (change.type !== \"childList\" || change.addedNodes.length === 0) continue;\n            // If the parent element of the added nodes is not within one of the targets,\n            // and not already inside a hidden node, hide all of the new children.\n            if (![\n                ...visibleNodes,\n                ...hiddenNodes\n            ].some((node)=>node.contains(change.target))) {\n                for (let node of change.removedNodes)if (node instanceof Element) {\n                    visibleNodes.delete(node);\n                    hiddenNodes.delete(node);\n                }\n                for (let node of change.addedNodes){\n                    if ((node instanceof HTMLElement || node instanceof SVGElement) && (node.dataset.liveAnnouncer === \"true\" || node.dataset.reactAriaTopLayer === \"true\")) visibleNodes.add(node);\n                    else if (node instanceof Element) walk(node);\n                }\n            }\n        }\n    });\n    observer.observe(root, {\n        childList: true,\n        subtree: true\n    });\n    let observerWrapper = {\n        observe () {\n            observer.observe(root, {\n                childList: true,\n                subtree: true\n            });\n        },\n        disconnect () {\n            observer.disconnect();\n        }\n    };\n    $5e3802645cc19319$var$observerStack.push(observerWrapper);\n    return ()=>{\n        observer.disconnect();\n        for (let node of hiddenNodes){\n            let count = $5e3802645cc19319$var$refCountMap.get(node);\n            if (count === 1) {\n                node.removeAttribute(\"aria-hidden\");\n                $5e3802645cc19319$var$refCountMap.delete(node);\n            } else $5e3802645cc19319$var$refCountMap.set(node, count - 1);\n        }\n        // Remove this observer from the stack, and start the previous one.\n        if (observerWrapper === $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1]) {\n            $5e3802645cc19319$var$observerStack.pop();\n            if ($5e3802645cc19319$var$observerStack.length) $5e3802645cc19319$var$observerStack[$5e3802645cc19319$var$observerStack.length - 1].observe();\n        } else $5e3802645cc19319$var$observerStack.splice($5e3802645cc19319$var$observerStack.indexOf(observerWrapper), 1);\n    };\n}\n\n\nexport {$5e3802645cc19319$export$1c3ebcada18427bf as ariaHideOutside};\n//# sourceMappingURL=ariaHideOutside.mjs.map\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}